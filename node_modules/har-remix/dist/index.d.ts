/// <reference types="node" />
import * as HAR from '@tracerbench/har';
import * as http from 'http';
import { MapLike, Response, ServerDelegate } from '../types';
export * from '../types';
export default class ArchiveServer {
    private delegate;
    private responses;
    constructor(delegate: ServerDelegate);
    loadArchive(path: string): void;
    addArchive(har: HAR.Archive): void;
    addArchiveEntries(entries: HAR.Entry[]): void;
    addArchiveEntry(entry: HAR.Entry): void;
    buildResponseForArchiveEntry(entry: HAR.Entry, key: string): Response | undefined;
    buildResponse(statusCode: number, mimeType: string, body: Buffer | undefined, compress: boolean): Response;
    buildHeaders(mimeType: string, body: Buffer | undefined, compressed: boolean): MapLike<string>;
    addResponse(key: string, response: Response): void;
    setResponse(key: string, response: Response): void;
    responseFor(key: string): Response | undefined;
    handle(request: http.IncomingMessage, response: http.ServerResponse): Promise<void>;
    createServer(): http.Server;
}
